<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="cont"></div>
  <script src="../js/react.js"></script>
  <script src="../js/react-dom.js"></script>
  <script src="../js/babel.min.js"></script>

  <!-- 
    组件实例对象的state属性, 值是js对象

    主要使用场景:
      用于进行多个状态的切换
      1. 如果是两个状态, 使用true/false, 配合三元运算实现
      2. 如果是三个及以上状态, 使用数字1,2,3,...
   -->
  <script type="text/babel">
    // 1.定义组件
    class ChangeLikeComponent extends React.Component {
      // 
      constructor() {
        super();
        // 1. 定义state初始化状态
        this.state = { isLikeMe: true } //在类中构造函数内部的this,指向组件实例对象
      }

      /* 
        每次点击事件:
          1.修改state状态
          2.调用render方法,更新虚拟DOM元素
          3.并最终渲染到页面
      */
      // 定义事件回调函数
      changeIsLikeMe = () => { //在类中使用箭头函数定义函数,函数内部的this指向组件实例对象
        // 修改state状态,调用setState方法
        this.setState({
          isLikeMe:!this.state.isLikeMe
        });
      }

      render() {
        // 2.获取最新的state状态
        const state = this.state.isLikeMe;
        // 将state状态数据更新到虚拟DOM
        return <div onClick={this.changeIsLikeMe}>{state ? "你喜欢我" : "你不喜欢我"}</div>
      }
    }

    // 2.渲染组件
    /* 
      1) 创建组件实例对象;
      2) 调用组件实例对象的render方法, 更新虚拟DOM, 最终返回一个真实的DOM元素;
      3) 将其渲染到页面容器
    */
    ReactDOM.render(<ChangeLikeComponent />, document.getElementById('cont'))


  </script>
</body>

</html>